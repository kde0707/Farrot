<!doctype html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Bigshop | Responsive E-commerce Template</title>
    <link rel="icon" href="/img/core-img/favicon.ico">
    <link rel="stylesheet" href="/style.css">
</head>

<body>
<div th:replace="/layout/header :: header"></div>
<div class="modal fade" id="quickview" tabindex="-1" role="dialog" aria-labelledby="quickview" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content">
            <button type="button" class="close btn" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <div class="modal-body">
                <div class="quickview_body">
                    <div class="container">
                        <div class="row">
                            <div class="col-12 col-lg-5">
                                <div class="quickview_pro_img">
                                    <img class="first_img" src="/img/product-img/new-1-back.png" alt="">
                                    <img class="hover_img" src="/img/product-img/new-1.png" alt="">
                                </div>
                            </div>
                            <div class="col-12 col-lg-7">
                                <div class="quickview_pro_des">
                                    <h4 class="title">Boutique Silk Dress</h4>
                                    <div class="top_seller_product_rating mb-15">
                                        <i class="fa fa-star" aria-hidden="true"></i>
                                        <i class="fa fa-star" aria-hidden="true"></i>
                                        <i class="fa fa-star" aria-hidden="true"></i>
                                        <i class="fa fa-star" aria-hidden="true"></i>
                                        <i class="fa fa-star" aria-hidden="true"></i>
                                    </div>
                                    <h5 class="price">$120.99 <span>$130</span></h5>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Mollitia expedita
                                        quibusdam aspernatur, sapiente consectetur accusantium perspiciatis praesentium
                                        eligendi, in fugiat?</p>
                                    <a href="#">View Full Product Details</a>
                                </div>
                                <form class="cart" method="post">
                                    <div class="quantity">
                                        <input type="number" class="qty-text" id="qty" step="1" min="1" max="12"
                                               name="quantity" value="1">
                                    </div>
                                    <button type="submit" name="addtocart" value="5" class="cart-submit">Add to cart
                                    </button>
                                    <div class="modal_pro_wishlist">
                                        <a href="/wishlist.html"><i class="icofont-heart"></i></a>
                                    </div>
                                    <div class="modal_pro_compare">
                                        <a href="/compare.html"><i class="icofont-exchange"></i></a>
                                    </div>
                                </form>
                                <div class="share_wf mt-30">
                                    <p>Share with friends</p>
                                    <div class="_icon">
                                        <a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a>
                                        <a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a>
                                        <a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a>
                                        <a href="#"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
                                        <a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a>
                                        <a href="#"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="breadcumb_area">
    <div class="container h-100">
        <div class="row h-100 align-items-center">
            <div class="col-12">
                <h5>상품 상세</h5>
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/index.html">Home</a></li>
                    <li class="breadcrumb-item active">Product Details</li>
                </ol>
            </div>
        </div>
    </div>
</div>
<!-- Breadcumb Area -->

<!-- Single Product Details Area -->
<section class="single_product_details_area section_padding_100">
    <div class="container">
        <div class="row">
            <div class="col-12 col-lg-6">
                <div class="single_product_thumb">
                    <div id="product_details_slider" class="carousel slide" data-ride="carousel">

                        <!-- 이미지영역 -->
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <a class="gallery_img" th:href="@{${productDetail.images.get(0).getPath()}}"
                                   title="First Slide">
                                    <img class="d-block w-100" th:src="@{${productDetail.images.get(0).getPath()}}"
                                         alt="First slide">
                                </a>
                            </div>
                            <div th:each="image, iterStat : ${productDetail.images}">
                                <div class="carousel-item" th:if="${iterStat.index > 0}">
                                    <a class="gallery_img" th:href="@{${image.getPath()}}" title="Slide">
                                        <img class="d-block w-100" th:src="@{${image.getPath()}}" alt="Slide">
                                    </a>
                                </div>
                            </div>

                        </div>

                        <!-- 작은 이미지 영역 -->
                        <ol class="carousel-indicators">
                            <li class="active" data-target="#product_details_slider" data-slide-to="0"
                                th:style="'background-image: url(' + @{${productDetail.images.get(0).getPath()}} + ');'">
                            </li>

                            <li th:each="image, iterStat : ${productDetail.images}"
                                th:if="${iterStat.index > 0 && iterStat.index <= 3}"
                                data-target="#product_details_slider" th:data-slide-to="${iterStat.index}"
                                th:style="'background-image: url(' + @{${image.getPath()}} + ');'">
                            </li>
                        </ol>
                    </div>
                </div>
            </div>

            <div class="col-12 col-lg-6">
                <div class="single_product_desc">
                    <h1 th:text="${productDetail.productName}">상품명</h1>
                    <p>판매자: <span th:text="${productDetail.sellerName}">판매자명</span></p>
                    <p>카테고리: <span th:text="${productDetail.categoryName}">카테고리</span></p>
                    <div class="short_overview mb-4">
                        <h6>상품 설명</h6>
                        <p th:text="${productDetail.description}"></p>
                    </div>
                    <p>가격: <span th:text="${productDetail.price} + 원">가격</span></p>
                    <p>상태: <span th:text="${productDetail.productStatus}">상태</span></p>
                    <p>등록시간: <span th:text="${productDetail.createdAt}">등록시간</span></p>
                    <p>조회수: <span th:text="${productDetail.view}">조회수</span></p>
                    <div class="d-flex flex-row justify-content-start align-items-center">
                        <form class="cart clearfix my-5 d-flex flex-wrap align-items-center"
                              th:action="@{/chat-room/enter/{id}(id=${productDetail.productId})}" method="POST">
                            <button type="submit" value="5" class="btn btn-secondary mt-1 ml-1">채팅하기</button>
                        </form>

                        <form action="#" th:action="@{/payment/init-payment}" method="post" >
                            <input type="hidden" name="productId" th:value="${productDetail.productId}"/>
                            <input type="hidden" name="amount" th:value="${productDetail.price}"/>
                            <button type="submit" class="btn btn-success mt-1 ml-1">안전거래</button>
                        </form>

                        <a th:href="@{/product/update-sell(id=${productDetail.productId})}"
                           class="btn btn-warning mt-1 ml-1">수정하기</a>

                        <form action="#" th:action="@{/product/delete(id=${productDetail.productId})}" method="post" >
                            <button type="submit" class="btn btn-danger mt-1 ml-1">삭제하기</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="you_may_like_area section_padding_0_100 clearfix">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section_heading new_arrivals">
                    <h5>추천 상품</h5>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="you_make_like_slider owl-carousel">
                    <div class="single-product-area" th:each="product : ${response.productPage}">
                        <div class="product_image">
                            <img class="normal_img" th:src="${response.productImages[product.id].get(0).getPath()}"
                                 alt="상품 이미지" style="width: 300px; height: 300px;">
                        </div>
                        <div class="product_description">
                            <div class="product_add_to_cart">
                                <form id="enterChatRoom" th:method="POST"
                                      th:action="@{/chat-room/enter/{id}(id=${product.id})}">
                                </form>
                                <a href="#" onclick="enterChatRoom()"><i class="icofont-shopping-cart"></i> 채팅하기</a>
                            </div>
                            <div class="product_quick_view">
                                <a th:href="@{/product/product-detail(productId=${product.id})}">
                                    <i class="fa fa-reply"></i> 보러 가기
                                </a>
                            </div>
                            <p class="brand_name" th:text="${product.category.code}">카테고리명</p>
                            <a th:href="@{/product/product-detail(productId=${product.id})}"
                               th:text="${product.productName}">상품명</a>
                            <h6 class="product-price" th:text="'₩' + ${product.price}">가격</h6>
                            <div>
                                <i class="icofont-eye-alt"></i>
                                <span th:text="${product.view}"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div th:replace="/layout/footer :: footer"></div>
</body>

</html>